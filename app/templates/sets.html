{% extends "base.html" %}

{% block content %}
    <main class="container">
        <h1>Hi, {{ current_user.username }}!</h1>
        {% if decks %}
            {% for deck in decks %}
                <div style="display: flex;justify-content: space-between;">
                    <p>{{ deck.name }}</p>
                    {% if current_user.id == deck.creator_id or current_user.username == 'admin' %}
                        <a href="/edit_deck/{{ deck.id }}" class="btn btn-outline-secondary">Edit</a>
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p>no decs yet</p>
        {% endif %}
        <form action="" method="post" novalidate>
            {{ form.hidden_tag() }}
            {{ form.name.label }}
            {{ form.name(size=32, class_="form-control") }}
            <p>
                {% for error in form.name.errors %}
                    <span style="color: red;">[{{ error }}]</span>
                {% endfor %}
            <p>{{ form.submit(class_="btn btn-primary w-100 py-2") }}</p>
        </form>

    </main>
{% endblock %}